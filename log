.Excellent ‚Äî ta capture montre que tu as bien identifi√© le probl√®me de biblioth√®que dynamique manquante (libclntsh.so) apr√®s le patch kernel, et que la solution temporaire propos√©e est de d√©finir la variable LD_LIBRARY_PATH.


---

üß© Contexte du probl√®me

Apr√®s ton patch kernel, Apache (ou le WebLogic Plugin) ne parvient plus √† charger les biblioth√®ques Oracle n√©cessaires √† la connexion SSL (comme libclntsh.so, utilis√©e pour Oracle Client / Wallet / SSL).
C‚Äôest coh√©rent avec ton erreur pr√©c√©dente :

wl_ssl_init: The SSL init failed status: 1
Error initializing SSL: Return value is -2

üëâ Cela indique un √©chec de chargement des biblioth√®ques SSL Oracle c√¥t√© Apache/WebLogic Plugin.


---

üîç Diagnostic que tu as d√©j√† fait

Tu as ex√©cut√© :

sudo find / -name libclntsh.so

R√©sultat :

/home/wmle15p/wls-plugin/libclntsh.so
/usr/lib64/httpd/modules/wls-plugin/libclntsh.so
/usr/lib64/libclntsh.so

Donc la librairie est bien l√†, mais Apache ne la trouve pas lors de l‚Äôex√©cution du plugin.
Cela veut dire que le chemin de la librairie n‚Äôest pas dans le linker dynamique (ld.so).


---

‚úÖ Solution temporaire (test)

Tu peux tester imm√©diatement en ajoutant la variable d‚Äôenvironnement avant de lancer Apache :

export LD_LIBRARY_PATH=/usr/lib64/httpd/modules/wls-plugin:$LD_LIBRARY_PATH
systemctl restart httpd

Puis v√©rifie :

ldd /etc/httpd/modules/mod_weblogic.so | grep clntsh

Si maintenant le lien vers libclntsh.so est r√©solu, le bridge WebLogic devrait refonctionner.


---

‚úÖ Solution permanente (recommand√©e)

Pour rendre cette configuration persistante :

Option 1 ‚Äì via /etc/ld.so.conf.d/

Cr√©e un fichier sp√©cifique :

echo "/usr/lib64/httpd/modules/wls-plugin" > /etc/ld.so.conf.d/wls-plugin.conf
ldconfig

Cela ajoute d√©finitivement le chemin dans le cache des biblioth√®ques dynamiques.


---

Option 2 ‚Äì via la conf Apache (si tu pr√©f√®res √©viter ldconfig)

Ajoute la variable dans le fichier d‚Äôenvironnement Apache :

Sur RHEL :

vi /etc/sysconfig/httpd

Et ajoute :

LD_LIBRARY_PATH=/usr/lib64/httpd/modules/wls-plugin:$LD_LIBRARY_PATH
export LD_LIBRARY_PATH

Puis red√©marre :

systemctl restart httpd



---

‚öôÔ∏è V√©rification finale

Apr√®s le red√©marrage, fais :

ldd /etc/httpd/modules/mod_weblogic.so | grep "not found"

‚Üí Aucune ligne ‚Äúnot found‚Äù ne doit appara√Ætre.
Puis :

journalctl -xeu httpd

‚Üí Plus de messages wl_ssl_init failed.


---

üí° Bon √† savoir

Ce type d‚Äôerreur appara√Æt souvent apr√®s un patch kernel ou un patch OpenSSL, car :

les chemins de runtime changent (lib64, /usr/lib64/httpd, etc.),

ou le cache ldconfig est r√©initialis√©.



---

Souhaites-tu que je t‚Äôenvoie le script complet pour automatiser la v√©rification et la correction de LD_LIBRARY_PATH et ldconfig, pour l‚Äôint√©grer √† ton post-patch-check Linux ?